 <!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!-- Compiled and minified CSS -->
	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
	  <link href="https://fonts.googleapis.com/css?family=Candal|Fira+Sans+Condensed|Ubuntu&display=swap" rel="stylesheet">

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body>
		<style>
			
			.box{
				width:20%;
				height:60px;
				margin:5px;
			}
			
		</style>
			<div class="row">
				<div class="col m5 s8">
					<div class="box col s2" id="tb1"></div>
					<div class="box col s2" id="tb2"></div>
					<div class="box col s2" id="tb3"></div>
					<div class="box col s2" id="tb4"></div>
					<div class="box col s2" id="tb5"></div>
				
					<div class="box col s2" id="tb6"></div>
					<div class="box col s2" id="tb7"></div>
					<div class="box col s2" id="tb8"></div>
					<div class="box col s2" id="tb9"></div>
					<div class="box col s2" id="tb10"></div>
				
					<div class="box col s2" id="tb11"></div>
					<div class="box col s2" id="tb12"></div>
					<div class="box col s2" id="tb13"></div>
					<div class="box col s2" id="tb14"></div>
					<div class="box col s2" id="tb15"></div>
				
					<div class="box col s2" id="tb16"></div>
					<div class="box col s2" id="tb17"></div>
					<div class="box col s2" id="tb18"></div>
					<div class="box col s2" id="tb19"></div>
					<div class="box col s2" id="tb20"></div>
				
					<div class="box col s2" id="tb21"></div>
					<div class="box col s2" id="tb22"></div>
					<div class="box col s2" id="tb23"></div>
					<div class="box col s2" id="tb24"></div>
					<div class="box col s2" id="tb25"></div>
				
					<div class="box col s2" id="tb26"></div>
					<div class="box col s2" id="tb27"></div>
					<div class="box col s2" id="tb28"></div>
					<div class="box col s2" id="tb29"></div>
					<div class="box col s2" id="tb30"></div>
				
					<div class="box col s2" id="tb31"></div>
					<div class="box col s2" id="tb32"></div>
					<div class="box col s2" id="tb33"></div>
					<div class="box col s2" id="tb34"></div>
					<div class="box col s2" id="tb35"></div>
				
					<div class="box col s2" id="tb36"></div>
					<div class="box col s2" id="tb37"></div>
					<div class="box col s2" id="tb38"></div>
					<div class="box col s2" id="tb39"></div>
					<div class="box col s2" id="tb40"></div>
				</div>
				<div class="col m7 s4" >
					<div>
						<label>
							<input type="checkbox" onchange="slDark()"/>
							<span>Darker</span>
						</label>
					</div>
					<select class="browser-default" id="slcColor" onchange="slClName()">
						<option value="">Red</option>
						<option value="150">Green</option>
						<option value="60">Yellow</option>
						<option value="225">Blue</option>
						<option value="100">Brown</option>
						<option value="Gray">Gray</option>
						<option value="300">Purple</option>
						<option value="330">Pink</option>
						<option value="Other">Other</option>
					</select>
				</div>
			</div>
			
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
		var tbClr = new Array ("","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",);
		var tbcolor = "All";	
		var tbdark = "No";
		var tbClName = "All";
		var valClName = 0;
		function getHSL(hex){
			var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
			r = parseInt(result[1], 16);
			g = parseInt(result[2], 16);
			b = parseInt(result[3], 16);
			r /= 255, g /= 255, b /= 255;
			var max = Math.max(r, g, b), min = Math.min(r, g, b);
			var h, s, l = (max + min) / 2;
			if(max == min){
			  h = s = 0; // achromatic
			}else{
			  var d = max - min;
			  s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
			  switch(max){
				case r: h = (g - b) / d + (g < b ? 6 : 0); break;
				case g: h = (b - r) / d + 2; break;
				case b: h = (r - g) / d + 4; break;
			  }
			  h /= 6;
			}
		  var HSL = new Object();
		  HSL['h']=h;
		  HSL['s']=s;
		  HSL['l']=l;
		  return HSL;
		}
		
		
		function generateColor(){
			
			for(var a=1; a<=40; a++){
				tbClr[a]='#'+(0x1000000+(Math.random())*0xffffff).toString(16).substr(1,6);
			}
		}
		
		function dspColor(){
			for(var a=1; a<=40; a++){
				$("#tb"+a.toString()).css("background-color",tbClr[a].toString());
			}
		}
		
		function chckHSL(){
			for(var a=1; a<=40; a++){
				console.log(getHSL(tbClr[a]));
			}
		}
		
		function chsColor(){
		
			if(tbClName="All"){
				if(tbdark=="Yes"){
					for(var a=1; a<=40; a++){
						var btHSL=getHSL(tbClr[a]);
						if(btHSL['s']>0.8){
							$("#tb"+a.toString()).css("background-color","white");
						}
					}
				}
				
				else{
					for(var a=1; a<=40; a++){
						var btHSL=getHSL(tbClr[a]);
						if(btHSL['s']>0.8){
							$("#tb"+a.toString()).css("background-color",tbClr[a].toString());
						}
					}
				}
				
			}
			else{
			
				if(tbdark=="Yes"){
					for(var a=1; a<=40; a++){
						var btHSL=getHSL(tbClr[a]);
						if(btHSL['s']>0.8 && btHSL['h']< valClName && btHSL['h'] > (valClName-0.1)){
							$("#tb"+a.toString()).css("background-color","white");
						}
					}
				}
				
				else{
					for(var a=1; a<=40; a++){
						var btHSL=getHSL(tbClr[a]);
						if(btHSL['s']>0.8 && btHSL['h']< valClName && btHSL['h'] > (valClName-0.1)){
							$("#tb"+a.toString()).css("background-color",tbClr[a].toString());
						}
					}
				}
			}
		}
		
		function slDark(){
			if(tbdark=="Yes")
				tbdark="No";
			else
				tbdark="Yes";
			
			chsColor();
		}
		
		function slClName(){
			valClName = parseInt(document.getElementById("slcColor").value)/1000;
			
			tbClName="No";
			
			
			console.log(valClName);
			
		}
		$(document).ready(function(){
			generateColor();
			dspColor();
			chckHSL();
		});
	</script>
	</body>
  </html>